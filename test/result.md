FORMAT: 1A
HOST: 127.0.0.1

# Minimum-minimum-template
this is documentation of the minimum-template backend powered by minimum, autogenerated.

## Ping [/ping]


 + GET: result


## User - Change Password [/v1/user/:id/password]
Change Password

 + PUT: change password of user
 The following is a description of the parameters
     + `old_password string` old password number of the user, must match the string in database after encrypted
     + `new_password string` new password number of the user, which must pass the [password test](https://github.com/Myriad-Dreamin/minimum-template/blob/master/service/user/change-password.go).


### ChangePassword [PUT]

+ Request the request url is /v1/user/2/password. 

    + Headers

            Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6MX19.Ejm6FMAPQIUuHRMGhHBvy_r0VB6efNDwR4AjdN-qdDI
            Content-Type: application/json

    + Body

            {
                "old_password": "yY11112222",
                "new_password": "xX11122222"
            }


+ Response 200

    + Headers

            Content-Type: application/json; charset=utf-8

    + Body

            {
                "code": 0
            }


## User - Delete/Get Api Group [/v1/user/:id]
hint: the Delete api is Admin-only callable

 + PUT: Update User Information. only the phone number can be modified
 The following is a description of the parameters
     + `phone string` phone number of the user
 + DELETE: Delete User
 + GET: Get User


### Delete [DELETE]

+ Request the request url is /v1/user/2. 

    + Headers

            Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6MX19.Ejm6FMAPQIUuHRMGhHBvy_r0VB6efNDwR4AjdN-qdDI
            Content-Type: text/plain

    + Body

            

+ Response 200

    + Headers

            Content-Type: application/json; charset=utf-8

    + Body

            {
                "code": 0
            }


### Get [GET]

+ Request the request url is /v1/user/1. 

    + Headers

            Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6MX19.Ejm6FMAPQIUuHRMGhHBvy_r0VB6efNDwR4AjdN-qdDI
            Content-Type: text/plain

    + Body

            

+ Response 200

    + Headers

            Content-Type: application/json; charset=utf-8

    + Body

            {
                "code": 0,
                "nick_name": "admin_context",
                "last_login": "2020-01-10T22:27:59.104968352+08:00"
            }


+ Request the request url is /v1/user/2. 

    + Headers

            Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6MX19.Ejm6FMAPQIUuHRMGhHBvy_r0VB6efNDwR4AjdN-qdDI
            Content-Type: text/plain

    + Body

            

+ Response 200

    + Headers

            Content-Type: application/json; charset=utf-8

    + Body

            {
                "code": 102,
                "error": "not found"
            }


## User - List [/v1/user-list]


 + GET: List User


### List [GET]

+ Request the request url is /v1/user-list?page=1&page_size=1. 

    + Headers

            Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6MX19.Ejm6FMAPQIUuHRMGhHBvy_r0VB6efNDwR4AjdN-qdDI
            Content-Type: text/plain

    + Body

            

+ Response 200

    + Headers

            Content-Type: application/json; charset=utf-8

    + Body

            {
                "code": 0,
                "users": [
                    {
                        "code": 0,
                        "nick_name": "admin_context",
                        "last_login": "2020-01-10T22:27:59.104968352+08:00"
                    }
                ]
            }


## User - Login [/v1/login]
Login with password

 + POST: Login to access more api in backend.
 The following is a description of the parameters
     + `password string`: password of the user
 uid, one of following three parameter must be provided:
         + `id uint`: id of the user

         + `nick_name string`: nick-name of the user

         + `phone string` phone number of the user

 The following is a description of the returns
 + `identity array[string]`: the groups user currently in
 + `id uint`: the unique user id in database
 + `phone string`: the phone of user
 + `nick_name string`: the unique user nick name in this website
 + `name string`: the true name of user
 + `token string`: the jwt token identifies an user, which must set in every auth api request's header
 + `refresh_token string`: the jwt token used to refresh token without requirement of user inputting password to login again


### Login [POST]

+ Request the request url is /v1/login. admin login for test

    + Headers

            Content-Type: application/json

    + Body

            {
                "id": 1,
                "nick_name": "",
                "phone": "",
                "password": "Admin12345678"
            }


+ Response 200

    + Headers

            Content-Type: application/json; charset=utf-8

    + Body

            {
                "code": 0,
                "identity": [
                    "norm"
                ],
                "phone": "1234567891011",
                "id": 1,
                "nick_name": "admin_context",
                "name": "admin_context",
                "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6MX19.Ejm6FMAPQIUuHRMGhHBvy_r0VB6efNDwR4AjdN-qdDI",
                "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6dHJ1ZSwiUmVmcmVzaFRhcmdldCI6eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6MX19LCJDdXN0b21GaWVsZCI6eyJVSUQiOjF9fQ.TrQI56Bd4K5NoF8sJg1XtEMfOKsg_L4SWbb6fPnOJlg"
            }


+ Request the request url is /v1/login. 

    + Headers

            Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6MX19.Ejm6FMAPQIUuHRMGhHBvy_r0VB6efNDwR4AjdN-qdDI
            Content-Type: application/json

    + Body

            {
                "id": 2,
                "nick_name": "",
                "phone": "",
                "password": "yY11112222"
            }


+ Response 200

    + Headers

            Content-Type: application/json; charset=utf-8

    + Body

            {
                "code": 0,
                "identity": [
                    "norm"
                ],
                "phone": "10086111",
                "id": 2,
                "nick_name": "tan chan",
                "name": "chan tan",
                "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6Mn19.aRyG4KLg71O955kJZ_x3rz_WllzmL3sI7ZeYFbA9RQM",
                "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6dHJ1ZSwiUmVmcmVzaFRhcmdldCI6eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6Mn19LCJDdXN0b21GaWVsZCI6eyJVSUQiOjJ9fQ.zUDf9w4cmpjD7M3gIBNbV0qpEWrK-lAMvbjkvS0u0O8"
            }


+ Request the request url is /v1/login. 

    + Headers

            Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6MX19.Ejm6FMAPQIUuHRMGhHBvy_r0VB6efNDwR4AjdN-qdDI
            Content-Type: application/json

    + Body

            {
                "id": 0,
                "nick_name": "tan chan",
                "phone": "",
                "password": "yY11112222"
            }


+ Response 200

    + Headers

            Content-Type: application/json; charset=utf-8

    + Body

            {
                "code": 0,
                "identity": [
                    "norm"
                ],
                "phone": "10086111",
                "id": 2,
                "nick_name": "tan chan",
                "name": "chan tan",
                "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6Mn19.aRyG4KLg71O955kJZ_x3rz_WllzmL3sI7ZeYFbA9RQM",
                "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6dHJ1ZSwiUmVmcmVzaFRhcmdldCI6eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6Mn19LCJDdXN0b21GaWVsZCI6eyJVSUQiOjJ9fQ.zUDf9w4cmpjD7M3gIBNbV0qpEWrK-lAMvbjkvS0u0O8"
            }


+ Request the request url is /v1/login. 

    + Headers

            Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6MX19.Ejm6FMAPQIUuHRMGhHBvy_r0VB6efNDwR4AjdN-qdDI
            Content-Type: application/json

    + Body

            {
                "id": 0,
                "nick_name": "",
                "phone": "10086111",
                "password": "yY11112222"
            }


+ Response 200

    + Headers

            Content-Type: application/json; charset=utf-8

    + Body

            {
                "code": 0,
                "identity": [
                    "norm"
                ],
                "phone": "10086111",
                "id": 2,
                "nick_name": "tan chan",
                "name": "chan tan",
                "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6Mn19.aRyG4KLg71O955kJZ_x3rz_WllzmL3sI7ZeYFbA9RQM",
                "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6dHJ1ZSwiUmVmcmVzaFRhcmdldCI6eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6Mn19LCJDdXN0b21GaWVsZCI6eyJVSUQiOjJ9fQ.zUDf9w4cmpjD7M3gIBNbV0qpEWrK-lAMvbjkvS0u0O8"
            }


## User - Register [/v1/user]
Register

 + POST: Register an user in minimum-template server
 The following is a description of the parameters
 + `name string`: name of the user
 + `nick_name string`: nick-name of the user, must be unique
 + `phone string` phone number of the user, must be unique
 + `password string` password number of the user, which must pass the [password test](https://github.com/Myriad-Dreamin/minimum-template/blob/master/service/user/change-password.go).
 + `city_code string`: code of register city of the user

 The following is a description of the returns
     + `id uint`: the unique user id in database


### Register [POST]

+ Request the request url is /v1/user. admin register for test

    + Headers

            Content-Type: application/json

    + Body

            {
                "name": "admin_context",
                "password": "Admin12345678",
                "nick_name": "admin_context",
                "phone": "1234567891011"
            }


+ Response 200

    + Headers

            Content-Type: application/json; charset=utf-8

    + Body

            {
                "code": 0,
                "id": 1
            }


+ Request the request url is /v1/user. 

    + Headers

            Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE1NzkyNzEyNzksImlzcyI6Ik15cmlhZC1EcmVhbWluIiwibmJmIjoxNTc4NjY2NDY5LCJJc1JlZnJlc2hUb2tlbiI6ZmFsc2UsIlJlZnJlc2hUYXJnZXQiOm51bGwsIkN1c3RvbUZpZWxkIjp7IlVJRCI6MX19.Ejm6FMAPQIUuHRMGhHBvy_r0VB6efNDwR4AjdN-qdDI
            Content-Type: application/json

    + Body

            {
                "name": "chan tan",
                "password": "yY11112222",
                "nick_name": "tan chan",
                "phone": "10086111"
            }


+ Response 200

    + Headers

            Content-Type: application/json; charset=utf-8

    + Body

            {
                "code": 0,
                "id": 2
            }

